---
layout: post
category: java	
title: volatile关键字
tags: java并发
subtitle: haha
---

<h4>volatile使用场景</h4>

  1：运算结果不依赖当前的变量值，或是能够确保只有单一个线程修改变量的值
  2：变量不需要与其他的状态变量共同参与不变约束

### volatile变量特性
  1：可见性，当一条线程修改了它的值后，其他线程能够立即可见,但是在各线程的工作内存中并不一定是一致的，也就是说每次对volatile变量进行写操作之后，能够立即同步回主内存，并不会同步到各线程的工作内存，那么如何确保工作内存中也是可见的呢？就是每次在对volatile变量use前，都先进行refresh操作，从主内存读到最新的数据，执行引擎看不到不一致的情况。但是由于java中的运算并非原子操作，所以volatile变量的运算在并发下一样是不安全的。 
  2：禁止指令重排序优化
    

    
